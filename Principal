let balls = []; let paddle; let bricks = []; let power; function setup() { createCanvas(600, 400); initializeGame(); } function draw() { background(0); for (let ball of balls) { ball.update(); ball.display(); } paddle.update(); paddle.display(); drawBricks(); if (power) { power.update(); power.display(); if (paddle.collides(power)) { power.collect(); } } checkCollision(); } function initializeGame() { balls = []; balls.push(new Ball(width / 2, height / 2)); paddle = new Paddle(); initializeBricks(); spawnPower(); } function mouseMoved() { paddle.move(mouseX); } function checkCollision() { for (let i = balls.length - 1; i >= 0; i--) { let ball = balls[i]; if (ball.y > height) { balls.splice(i, 1); } else { if (ball.collides(paddle)) { ball.bounceUp(); } for (let j = bricks.length - 1; j >= 0; j--) { let brick = bricks[j]; if (ball.collides(brick)) { ...
